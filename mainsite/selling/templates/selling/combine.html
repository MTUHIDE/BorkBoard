{% extends 'base.html' %}
{% block content %}

<!-- Nav tabs -->
<div class="col-lg-12 col-md-9 col-sm-8" align="center" style="position: static;">
  <ul class="nav nav-tabs justify-content-center" role="tablist">
    <li role="presentation" class="nav-item"><a class="nav-link active" href="#ctlg" role="tab" data-toggle="tab">Marketplace</a></li>
    <li role="presentation" class="nav-item"><a class="nav-link" href="#ride" role="tab" data-toggle="tab">Ridesharing</a></li>
  </ul>
</div>
<br>

<!-- Tab contents -->
<div class="tab-content">

  <!-----------------------------------
  Catalog Form
  ----------------------------------->
   <div role="tabpanel" class="tab-pane active" id="ctlg">
     <div class='row justify-content-center'>
         <div class='col-lg-5'>
            <!-- Catalog Form Errors -->
             {% if catalog_form.errors %}
                 <div class="alert alert-danger" role="alert">
                      {% for field in catalog_form %}
                        {% if field.errors %}
                          <strong>{{ field.label }}: {{ field.errors|striptags }}<br></strong>
                        {% endif %}
                      {% endfor %}
                 </div>
             {% endif %}

             <form role="form" method="post" enctype="multipart/form-data" style='border: 2xp;'>
                 {% csrf_token %}
                 <input type="hidden" name="submission_type" value="ctlg">

                 {{ catalog_form.as_p}}
                 <button disabled class="btn btn-primary" type=button id="fakeButton" style="display: none"><span class="glyphicon glyphicon-refresh"></span>Submit</button>
                 <button type="submit" class="btn btn-primary" name="realButton" id="btnRealButton">Submit</button>
             </form>
         </div>
     </div>
   </div>

   <!-----------------------------------
   Ridesharing Form
   ----------------------------------->
   <div role="tabpanel" class="tab-pane" id="ride">
     <form action="" method="post">
       {% csrf_token %}
       <input type="hidden" name="submission_type" value="ride">
       <div class="col-lg-12 col-md-9 col-sm-8" align="center" style="position: static;">

        <!-- Ride Form Errors -->
        {% if ride_form.errors %}
        <div class="alert alert-danger" role="alert">
          {% for field in ride_form %}
            {% if field.errors %}
              <strong>{{ field.label }}: {{ field.errors|striptags }}<br></strong>
            {% endif %}
          {% endfor %}
        </div>
        {% endif %}

         <div class="row justify-content-center align-end">
           <table>
             {{ ride_form.as_table }}
           </table>
         </div>
       </div>
       <div class="col-lg-12 col-md-9 col-sm-8" align="center" style="position: static;">
         <input type="submit" value="Submit">
       </div>
     </form>
   </div>
 </div>

{% endblock %}
